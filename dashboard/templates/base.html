<!--引用静态文件-->
{% load staticfiles %}
<!DOCTYPE html>
<html>
<head lang="zh-CN">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="../../favicon.ico"> -->
    <link rel="shortcut icon" href="https://www.stcloud.cn/dashboard/static/dashboard/img/favicon.ico"/>

    <title>用户中心</title>
    <script>
        constant_root_url = "{{root_url}}"
        site_tz = "{{ tz }}"
    </script>
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/jquery.ui-1.9.0.min.js' %}"></script>
    <script src="{% static 'js/ajaxForm.js' %}"></script>
    <script src="{% static 'js/jquery.form.min.js' %}"></script>
    <script src="{% static 'js/jquery-confirm.min.js' %}"></script>

    <script type="text/javascript" src="{% static 'js/AreaData_min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/Area.js' %}"></script>
    <!-- <script type="text/javascript" src="{% static 'js/jquery.mask.min.js' %}"></script> -->

    <script type="text/javascript" src="{% static 'js/jquery.loadmask.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap/table/bootstrap-table.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap/date/js/bootstrap-datetimepicker.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap/date/js/locales/bootstrap-datetimepicker.zh-CN.js' %}"
            charset="UTF-8"></script>
    <script src="{% static 'js/subcomsumption.js' %}"></script>
    <script src="{% static 'js/invoice_local.js' %}"></script>
    <script src="{% static 'js/colorbox-min.js' %}"></script>
    <script src="{% static 'js/common.js' %}"></script>
    <script src="{% static 'js/browser.js' %}"></script>
    <script src="{% static 'js/datetime.js' %}"></script>
    <script src="{% static 'js/toastr.min.js' %}"></script>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" media="screen"
          href="{% static 'bootstrap/date/css/bootstrap-datetimepicker.min.css' %}">


    <!-- <link href="{% static 'bootstrap/date/css/bootstrap-datetimepicker.min.css' %}" rel="stylesheet"> -->
    <!-- <link href="{% static 'bootstrap/date/css/bootstrap-combined.min.css' %}" rel="stylesheet"> -->
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="{% static 'bootstrap/date/css/bootstrap-datetimepicker.min.css' %}">
 -->
    <link href="{% static 'css/toastr.min.css' %}" rel="stylesheet">
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'bootstrap/table/bootstrap-table.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/jquery.loadmask.css' %}" rel="stylesheet">
    <link href="{% static 'css/colorbox.css' %}" rel="stylesheet">
    <link href="{% static 'css/jquery-confirm.min.css' %}" rel="stylesheet">

    <!-- Bootstrap theme -->
    <link href="{% static 'bootstrap/css/bootstrap-theme.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static "stylesheets/theme.css" %}">
    <link rel="stylesheet" href="{% static 'css/style1.css' %}"/>
    <link href="{% static 'fontello/css/fontello.css' %}" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="{% static 'js/html5shiv.min.js' %}"></script>
      <script src="{% static 'js/respond.min.js' %}"></script>
    <![endif]-->
    <script src="{% static 'js/test.js' %}"></script>
    <style type="text/css">
        .btn-default.base_btn:focus, .btn-default.base_btn:hover, .btn-default.base_btn:hover:focus, .btn-default.base_btn:active:focus {
            color: #333;
            background-color: #fff;
            border-color: #fff;
        }
    </style>
</head>
<body>
{% block body %}
{% block innerscript %}g
    <script>
        $(document).ready(function () {
                $(".sidebar-nav > ul > li > a").each(function () {
                    root_length="{{ root_url }}".length;
                    array1="{{ request.path }}".substr(root_length).split('/').reverse();
                    array2=this.pathname.substr(root_length).split('/').reverse();
                    for (var i=0;i<array1.length;i++){
                        if (array1[i]!=""){
                            url_label=array1[i]
                            break
                        }
                    }
                    for (var i=0;i<array2.length;i++){
                        if (array2[i]!=""){
                            menu_label=array2[i]
                            break
                        }                    }
                    if (url_label == menu_label) {
                        $(this).parent().addClass("active");
                    }


                });
            (function ($) {
                'use strict';

                $.fn.bootstrapTable.locales['zh-CN'] = {
                    formatLoadingMessage: function () {
                        return '正在努力地加载数据中，请稍候……';
                    },
                    formatRecordsPerPage: function (pageNumber) {
                        return '每页 ' + pageNumber;
                    },
                    formatShowingRows: function (pageFrom, pageTo, totalRows) {
                        return pageFrom + '～' + pageTo + ' ( 共  ' + totalRows + ' 条 )；    ';
                    },
                    formatSearch: function () {
                        return '搜索';
                    },
                    formatNoMatches: function () {
                        return '没有找到匹配的记录';
                    },
                    formatPaginationSwitch: function () {
                        return '隐藏/显示分页';
                    },
                    formatRefresh: function () {
                        return '刷新';
                    },
                    formatToggle: function () {
                        return '切换';
                    },
                    formatColumns: function () {
                        return '列';
                    }
                };
                $.extend($.fn.bootstrapTable.defaults, $.fn.bootstrapTable.locales['zh-CN']);
            })(jQuery);
        })
    </script>
{% endblock %}
{# class="col-xs-4 col-sm-3 col-md-2 col-lg-2" #}
<div class="">
    <div id="left_region" class="fix_body_left">
        <div class="header" style="background-color: #428bca;">
            <img id='logo_img' src="{% static 'img/sys_logo.png' %}" height="30px" class="logo">
            <!-- <img src="{% static 'img/toggle.png' %}"  class="logo"> -->
        </div>
        <div class="sidebar-nav" style="right: -35px;">
            <a href="javascript:void(0)" class="nav-header" data-toggle="collapse"><i
                     class="glyphicon glyphicon-home" ></i> <span class="nav-label">云主机</span><span
                    class="fa arrow"></span></a>
            <ul class="nav nav-list collapse in">
                <!-- <li><a href="{{ root_url }}/account/detail"><i class="icon-dot"></i>用户资料</a>

                <li><a href="{{ root_url }}/account/update_password/"><i class="icon-dot"></i>修改密码</a>
                 -->
                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>云主机管理</a>

                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>云硬盘管理</a>

                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>镜像管理</a>

                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>快照管理</a>

                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>安全组管理</a>
            </ul>
            
            <a href="javascript:void(0)" class="nav-header" data-toggle="collapse"><i
                     class="glyphicon glyphicon-stats"></i> <span class="nav-label">网络</span><span
                    class="fa arrow"></span></a>
            <ul class="nav nav-list collapse in">
                <li><a href="{{ root_url }}/network/floating_ips/"><i class="icon-dot"></i></i>浮动IP管理</a>

                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>网络拓扑图</a>

                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>路由器管理</a>

                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>子网管理</a>

                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>端口管理</a>
                
                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>VPN管理</a>
                <li><a href="{{ root_url }}/workorder/"><i class="icon-dot"></i></i>负载均衡</a>
            </ul>
            
            <a href="javascript:void(0)" class="nav-header" data-toggle="collapse"><i
                    class="icon-adult"></i> <span class="nav-label">管理员</span><span
                    class="fa arrow"></span></a>
            <ul class="nav nav-list collapse in">

                <li><a href="{%url 'tenant_index'%}"> 项目管理</a></li>
                <li><a href="{{ root_url }}/admin/project/"><i class="icon-dot"></i></i>项目管理</a>

                <li><a href="{{ root_url }}/index/"><i class="icon-dot"></i></i>角色管理</a>
                <li><a href="{{ root_url }}/index/"><i class="icon-dot"></i></i>用户管理</a>
                <li><a href="{{ root_url }}/index/"><i class="icon-dot"></i></i>用户管理</a>
                <li><a href="{{ root_url }}/index/"><i class="icon-dot"></i></i>用户管理</a>
                <li><a href="{{ root_url }}/index/project/user_info"><i class="icon-dot"></i></i>用户管理</a>
                <li><a href="{%url 'tenant_index'%}"><i class="icon-dot"></i></i>vcloud版本</a></li>
                <li><a href="{%url 'user_info'%}"><i class="icon-dot"></i></i>stcloud版本</a></li>

            </ul>
            
            


            {% if isProjectAdmin %}
            <a href="javascript:void(0)" class="nav-header" data-toggle="collapse"><i class="icon-smallc"></i>
                <span class="nav-label">子账户管理</span><span
                        class="fa arrow"></span></a>
            <ul class="nav nav-list collapse in">
                <li><a href="{{ root_url }}/manage/"><i class="icon-dot"></i>子账户管理</a>
                </li>
                <li><a href="{{ root_url }}/sub_bill/"><i class="icon-dot"></i>子账户账单</a>
                </li>
                {% if isAdmin %}
                {% else %}
                <li><a href="{{ root_url }}/recharge/"><i class="icon-dot"></i>代充值记录</a>
                </li>
                {% endif %}
            </ul>
            {% endif %}
        </div>
    </div>
    <div id="right_region" class="fix_body_right" style="background-color:#F5F5F5;height:100vh;overflow-y:auto">
        <div class="header">
            {% block page_header %}
                <div class="" style="padding-top: 10px; padding-right:20px;float:right;">
                    <li class="top_links">
                        <a href="{{ horizon_url }}/project/" style="color: #666;">云计算控制台</a>
                    </li>
                    <!--  <li class="top_links">
                        <a href="{{ naas_url }}/" style="color: #666;">NAAS控制台</a>
                    </li>-->
                    <li class="top_links">
                        <a href="{{ help_url }}" target="_blank" style="color: #666;">帮助</a>
                    </li>
                    <li class="top_links">
                        <a href="{{ root_url }}/workorder/" target="_self" style="color: #666;">工单</a>
                    </li>
                    <div class="btn-group" style="margin-left: 10px; position: relative">
                        <button type="button" class="btn btn-default dropdown-toggle btn-lg base_btn"
                                aria-haspopup="true" aria-expanded="false"
                                style="font-size: 14px;border-color: #fff;color:#666;padding: 0px; box-shadow:none;"
                                data-toggle="dropdown">
                            <span class="glyphicon glyphicon-user"><font
                                    style="padding-left: 5px;vertical-align: bottom;margin-bottom: 10px;">{{ username }}</font></span>
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu" style="min-width: auto">
                            <li><a href="{{ root_url }}/auth/logout">退出</a></li>
                        </ul>
                    </div>
                </div>
            {% endblock %}
        </div>
        <div id="main_content" class="main_body">
            {% block main_body %}
            <div class="panel-heading child_main_head">
                {% block title %}
                {% for item in title_list %}
                {% if item.url %}
                <a class="breadcumbs" href='{{ root_url }}{{ item.url }}'>
                    {% ifequal forloop.counter 1 %}
                    {{ item.name }}
                    {% else %}
                    &nbsp;&#47;&nbsp;{{ item.name }}
                    {% endifequal %}
                </a>
                {% else %}
                                    <span class="breadcumbs">
	        	{% ifequal forloop.counter 1 %}
                    {{ item.name }}
                    {% else %}
                    &nbsp;&#47;&nbsp;{{ item.name }}
                {% endifequal %}
                </span>
                {% endif %}
                {% endfor %}
                {% endblock %}

            </div>
            <div class="panel-body child_main_body">
                <div class="container-fluid">
                    <div class="row" style="padding: 10px 6px 0px;">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                            {% block content %}
                            {% endblock %}
                        </div>
                    </div>
                </div>
            </div>
            {% endblock %}
        </div>

    </div>
</div>

{# class="col-xs-8 col-sm-9 col-md-10 col-lg-10" #}

{% endblock %}
{% block modal %}
    <div class="modal fade" id="expireModal" tabindex="-1" role="dialog" data-backdrop="static"
         aria-labelledby="myModalLabel" style="margin-top: 100px">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color:#222222;color: #ffffff">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:#ffffff">
                        <span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">session过期</h4>
                </div>
                <div class="modal-body">
                    <h4>session已经过期，请重新登录</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" onclick="location='{{ horizon_url }}/auth/logout'">
                        重新登录
                    </button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
{% endblock %}
</body>

</html>
